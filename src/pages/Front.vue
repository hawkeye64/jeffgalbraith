<template>
  <q-page class="flex flex-center">

    <div id="wrapper">
      <div class="inner-container">
        <svg id="svg-container" :style="svgStyle">
        </svg>
      </div>
      <p :style="style">Full-Stack Developer</p>
    </div>

  </q-page>
</template>

<script>
/* eslint-disable-next-line */
const Snap = require('imports-loader?this=>window,fix=>module.exports=0!snapsvg/dist/snap.svg.js')

export default {
  name: 'FrontIndex',

  data () {
    return {
      ind: 0,
      currentColor: '#00A0F7',
      colors: [
        '#00A0F7', // blue
        '#21C900', // green
        '#FF8C0A' // orange
      ],
      paths: [
        'm 90.00301,51.100588 -10.056012,-0.08226 v 0 l -3.301125,-2.795585 -2.304999,-0.490386 v 0 l -2.405473,-2.005696 1.051786,1.5875 -2.198787,-3.704167 v 2.116667 l -2.375529,-7.408333 v 0 l -6.339337,10.583333 5.840669,2.116667 v 0 h -2.354671 v 0 l -3.671445,-2.116667 v 0 l -3.730732,-2.67387 v 0 l 0.722462,0.557204 -2.394485,-2.116667 v 0 L 54.71486,42.523625 v 0 l 1.066474,1.186596 -3.628281,-3.804393 v 0 l -2.003385,-1.910842 v 0 l -1.714921,-1.793325 1.01135,5.291667 -1.064161,-5.291667 -1.946907,-5.820833 v 0 l -0.700806,-1.5875 -1.543888,-3.175 v 0 l -2.033592,3.987649 v 0 l -3.79216,19.824851 5.507618,-23.283333 v 0 l -3.639987,7.422508 v 0 l 0.95823,-2.163915 -3.755764,10.08724 v 0 l -3.62471,7.9375 v 0 l 0.990173,-2.116667 -2.659262,-3.175 v 0 l -1.991548,3.175 v 0 l -2.754564,-4.7625 v 0 l -1.271217,1.5875 0.945617,-1.270945 -1.464921,8.150112 v -6.35 l -1.688619,4.233333 -0.728291,-6.879166 v 0 l -2.135269,3.704166 v 0 l -2.754984,4.7625 3.675155,-6.35 -3.900949,6.879167 v 0 h -3.500309 l 1.042481,-3.175 -1.962431,3.175 v 0 L 0,51.100618',
        'm 90.00301,51.100588 -10.056012,0.03342 v 0 l -3.301125,-7.345712 -2.304999,5.090001 v 0 l -2.405473,-5.075523 h 1.051786 L 70.7884,39.094655 v 0 L 68.412871,34.00809 v 0 l -6.339337,13.591208 h 5.840669 v 0 l -2.354671,-5.138166 v 0 L 61.888087,34.44961 v 0 l -3.730732,8.676027 v 0 h 0.722462 l -2.394485,4.902634 v 0 L 54.71486,44.52022 v 0 h 1.066474 l -3.628281,-7.964636 v 0 l -2.003385,4.291263 v 0 l -1.714921,3.673373 h 1.01135 l -1.064161,2.348216 -1.946907,-4.012894 v 0 l -0.700806,-1.444476 -1.543888,3.200319 v 0 l -2.033592,-4.442527 v 0 l -3.79216,8.487852 h 5.507618 v 0 l -3.639987,-7.661704 v 0 h 0.95823 L 37.43468,32.910984 v 0 l -3.62471,8.084022 v 0 h 0.990173 l -2.659262,5.956238 v 0 l -1.991548,-4.53459 v 0 l -2.754564,6.034022 v 0 l -1.271217,-2.529288 h 0.945617 l -1.464921,-3.124565 v 0 l -1.688619,-3.601695 -0.728291,-1.55339 v 0 l -2.135269,4.479095 v 0 l -2.754984,5.779056 h 3.675155 l -3.900949,-8.695071 v 0 L 14.570982,46.9901 h 1.042481 l -1.962431,4.110493 v 0 L 0,51.100618',
        'm 90.00301,51.100588 -10.056012,-0.08226 v -2.116667 h -3.301125 l -2.304999,2.116667 v -3.704167 h -2.405473 l 1.051786,-2.645833 -2.198787,-4.7625 v 11.1125 h -2.375529 v 0 h -6.339337 l 5.840669,-4.7625 v 3.175 h -2.354671 v -19.05 h -3.671445 v 20.108333 h -3.730732 v -1.5875 l 0.722462,-5.291666 h -2.394485 v 5.291666 H 54.71486 v -5.291666 l 1.066474,-3.175 -3.628281,-14.816667 v 22.754167 h -2.003385 v -2.116667 h -1.714921 l 1.01135,-11.1125 -1.064161,-18.520833 H 46.435029 V 46.255828 H 45.734223 44.190335 V 34.084995 h -2.033592 v 11.641666 l -3.79216,5.820834 h 5.507618 v -4.233334 h -3.639987 v 0 l 0.95823,-5.291666 -3.755764,-11.1125 v 17.4625 h -3.62471 v -6.35 l 0.990173,-8.466667 -2.659262,-7.408333 V 51.018328 H 30.149333 V 29.322495 h -2.754564 v 21.695833 h -1.271217 0.945617 -1.464921 V 38.847495 h -1.688619 l -0.728291,3.175 v 8.995833 h -2.135269 v -1.058333 h -2.754984 3.675155 -3.900949 v -3.704167 h -3.500309 1.042481 l -1.962431,1.5875 v 3.175 L 0,51.100618'
      ]
    }
  },

  mounted () {
    this.config = {
      duration: 1000,
      delay: 2000
    }

    this.s = Snap('#svg-container')
      .attr({
        viewBox: '0 0 89.958331 89.958336',
        width: 600,
        height: 340
      })

    this.p = this.s.path(this.paths[0])
      .attr({
        fill: 'none',
        strokeWidth: 0.5
      })

    this.t = this.s.text('50%', '75%', 'Jeff Galbraith')
      .attr({
        fontSize: '20px',
        letterSpacing: '5px',
        textAnchor: 'middle'
      })

    this.morph()
  },

  computed: {
    style () {
      return {
        color: this.colors[this.ind],
        textAlign: 'center',
        fontSize: '16px'
      }
    },

    svgStyle () {
      return {
        stroke: this.colors[this.ind] + ' !important',
        fill: this.colors[this.ind] + ' !important'
      }
    }
  },

  methods: {
    incrementalIndex (arr, ind) {
      while (ind > arr.length - 1) {
        ind = ind - arr.length
      }
      return ind
    },

    morph () {
      setInterval(() => {
        ++this.ind
        if (this.ind >= 3) {
          this.ind = 0
        }

        this.p.animate({
          // stroke: this.colors[this.ind],
          d: this.paths[this.ind]
        }, this.config.duration, window.mina.easeinout)
        // this.p.attr({ 'stroke': this.colors[this.ind] })
        // this.t.animate({
        //   fill: this.colors[this.ind]
        // }, this.config.duration, window.mina.easeinout, this.morph)
      }, this.config.delay)
    }
  }
}
</script>
